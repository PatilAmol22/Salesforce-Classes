<template>
    <template if:true={ShowDistributionmodal}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open distributemodal">
            <!-- Modal/Popup Box LWC header here -->
            <header class="slds-modal__header">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                    <lightning-icon icon-name="utility:close"
                                    alternative-text="close"
                                    variant="inverse"
                                    size="small">
                    </lightning-icon>
                <span class="slds-assistive-text">Close</span>
                </button>
                <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">
                    <strong>Distribute Target Assignment</strong>  
                </h2>
                <h5 class="modal-title slds-text-heading_small ">
                    Distribute your Account Manager Target assignments by accounts or products. You can Distribute them furtehr by periods.
                </h5>
            </header>
            
            <header class="slds-modal__header">
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <p style="margin-top: 5px;text-align:left;;"><strong>Assigned To:</strong>  &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<strong>Target Assignment Value:</strong></p>
                </div>
            </header>
   
    <!-- Modal/Popup Box LWC body starts here -->
    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2">
        <lightning-tabset>
            <lightning-tab label="Account" title="Account">
                <div class="slds-scrollable_x">
                    <table class="slds-table slds-table_bordered slds-no-row-hover slds-table_cell-buffer" style="margin-top:0px; border:1px solid rgb(229, 229, 229)" role="grid" aria-label="resized column">
                        <thead>
                        <tr>
                            <th  style="width: 3rem">Sr.</th>
                            <th scope="col" height="22">Name</th>
                            <th scope="col" height="22">Target Percentage</th>
                            <th scope="col" height="22">Target Currency Value</th>
                            <th style="text-align: center;" colspan="2">Action</th>
                        </tr>
                        </thead>
                    <tbody>
                    <template for:each={listOfDistribute} for:item="distributeData" for:index="index">
                        <tr key={distributeData}>
                            <td style="font-weight: bold">
                                <lightning-formatted-number value={distributeData.index}></lightning-formatted-number>
                            </td>
                           <td>
                              <lightning-input type="text" name="Name" data-index={index}
                                 variant="label-hidden" placeholder="" onchange={handleChange}
                                 value={distributeData.Name}>
                              </lightning-input>
                           </td>
                           <td>
                              <lightning-input name="Target Percentage" data-index={index} variant="label-hidden"
                                 placeholder="" onchange={handleChange} value={distributeData.TargetPercentage}
                                 >
                              </lightning-input>
                           </td>
                           <td>
                              <lightning-input type="text" name="Target Currency Value" data-index={index}
                                 variant="label-hidden" placeholder="" onchange={handleChange}
                                 value={distributeData.TargetCurrencyValue}>
                              </lightning-input>
                           </td>
                           <td style="text-align:right;">
                                
                            <lightning-button label="Distribute by Period" title="Distribute by Period"  class="slds-m-left_x-small" onclick={handleConfig}></lightning-button>
                            </td>
                            <td>
                                <lightning-button-icon icon-name="utility:delete" variant="destructive" style="text-align:center;" alternative-text="Delete"   class="slds-m-left_xx-small" title="Delete" onclick={handleRemoveRow}></lightning-button-icon>
                                </td>
                        </tr>
                     </template>
                    </tbody>
                    </table>
                </div>
            <hr style="margin:10px 0;">
                <div>
                    <lightning-button label="Add Row" title="Add row" icon-name="utility:add" class="slds-m-left_x-small" onclick={handleAddRow}></lightning-button>
                </div>
            </lightning-tab>


            <lightning-tab label="Product" title="Product">
                
                <div class="slds-scrollable_x">
        
                    <table class="slds-table slds-table_bordered slds-no-row-hover slds-table_cell-buffer" style="margin-top:0px; border:1px solid rgb(229, 229, 229)" role="grid" aria-label="resized column">
                        <thead>
                        <tr>
                            <th  style="width: 3rem">Sr.</th>
                            <th scope="col" height="22">Name</th>
                            <th scope="col" height="22">Price Book</th>
                            <th scope="col" height="22">List Price</th>
                            <th scope="col" height="22">Target Percentage</th>
                            <th scope="col" height="22">Target Currency Value</th>
                            <th scope="col" height="22">Target Value</th>
                            <th style="text-align: center;" colspan="2">Action</th>
                        </tr>
                    </thead>
            
                    <tbody>
                        
                        <tr>
                            <td>
                                <div>
                                    1
                                </div>
                            </td>
                            <td>
                            <div style="margin-top: -18px;">
                                <lightning-input type="text" value="Tire"></lightning-input>
                                </div>
                            </td>
                            <td>
                                <div style="margin-top: -18px;">
                                    <lightning-input type="text" value="Standard"></lightning-input>
                                    </div>
                            </td>
                            <td>
                                <div style="margin-top: -18px;">
                                    <lightning-input type="text" value="$200.00"></lightning-input>
                                    </div>
                            </td>
                            <td>
                                <div style="margin-top: -18px;">
                                    <lightning-input type="text" value="50.00"></lightning-input>
                                    </div>
                            </td>
                            <td>
                                <div style="margin-top: -18px;">
                                    <lightning-input type="text" value="$3,30,000.00"></lightning-input>
                                    </div>
                            </td>
                            <td>
                                <div style="margin-top: -18px;">
                                    <lightning-input type="text" value="1650.00"></lightning-input>
                                    </div>
                            </td>
                            <td>
                                <lightning-button label="Distribute by Period" title="Distribute by Period" class="slds-m-left_x-small" onclick={handleConfig}>></lightning-button>
                                </td>

                                <td>
                                    <lightning-button-icon icon-name="utility:delete" variant="destructive" style="text-align:center;" alternative-text="Delete"   class="slds-m-left_xx-small" title="Delete" onclick={removeRow}></lightning-button-icon>
                                </td>
                        </tr>
                    </tbody>

                </table>

            </div>

            <hr style="margin:10px 0;">

            <div>
                    <lightning-button label="Add Row" title="Add row" icon-name="utility:add"  class="slds-m-left_x-small"></lightning-button>
            </div>

            </lightning-tab>
            
        </lightning-tabset>
           
    </div>
    <!-- Modal/Popup Box LWC footer starts here -->
    <footer class="slds-modal__footer">
        <button class="slds-button slds-button_neutral" onclick={closeModal} title="Cancel">Cancel</button>
        <button class="slds-button slds-button_brand" onclick={submitDetails} title="Save">Save</button>
    </footer>
</section>

<div class="slds-backdrop slds-backdrop_open"></div>
</template>


<template if:true={ShowDistributionPeriod} >
<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open slds-modal_xx-small">
<div class="slds-modal__container" style="z-index: 99 !important;">
    <!-- Modal/Popup Box LWC header here -->
    <header class="slds-modal__header">
        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
            <lightning-icon icon-name="utility:close"
            alternative-text="close"
            variant="inverse"
            size="small"></lightning-icon>
            <span class="slds-assistive-text">Close</span>
        </button>
        <h2 id="modal-heading-03" class="slds-text-heading_medium slds-hyphenate">
            Distribute by Period
        </h2>
    </header>
    <!-- Modal/Popup Box LWC body starts here -->
    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3">
        
    </div>
    <!-- Modal/Popup Box LWC footer starts here -->
    <footer class="slds-modal__footer">
        <button class="slds-button slds-button_neutral" onclick={closeModal} title="Cancel">Cancel</button>
        <button class="slds-button slds-button_brand" onclick={submitDetails} title="Save">Save</button>
    </footer>
</div>
</section>

<div class="slds-backdrop slds-backdrop_open" ></div>
</template>
</template>